---
title: 父组件和子组件的信息传递
date: 2025-01-21
---

# 父组件和子组件之间的信息传递

## Props的创建和使用

一个vue文件相当于一个单文件组件，可以像积木一样加在别的组件中：

````js
import todoListItem from 'todoListItem.vue'
//在script部分引入todoListItem
````

```html
<todoListItem />
<!---在template中使用这个组件-->
```

但是，往往需要再子组件中获取到父组件所希望传入的值。比如在todoList.vue中：

```vue
<script setup lang="ts">
	import {reactive} from 'vue'
	let todos=reactive([
	{work:"洗衣服"，time:10},
	{work:"洗碗"，time:14},
	{work:"洗澡"，time:12},
	{work:"洗车"，time:15},
	])
<script>

<template>
	<div>
		<ul>
			<li v-for="todo, index in todos" :key="index"><todoListItem:work="todo.work" :time="todo.time"><todoListItem></li>
		<ul>
	</div>
<template/>

```

这里想要在todoListItem中显示出对应的work和time，需要用到自定义Prop

```vue
<script lang="ts" setup>
	import {defineProps} form 'vue'
	defineProps(['work','time'])
</script>
<template>
	<div>
        	{{work}}--{{time}}min
    </div>
</template>
```

---

### Note:

>   想要在script标签中使用 Props传入的属性，需要用一个变量来接受这些props：
>
>   ```vue
>   <script setup>
>      let todo=defineProps(['work','time'])
>       <script>
>   ```
>
>   这里todo是一个对象，可以通过todo.work和todo.time来获取到对应的值。
>
>   **但是在template中直接使用work和todo即可**

>在传入对应的组件的时候，需要区分传递字面量和表达式：
>
>```vue
><todoListItem    work="todo.work"  time="todo.time"   />
>//传递的是字面量，即work和time都只是一个字符串
><todoListItem    :work="todo.work"  :time="todo.time" />
>//传递的是exprssion，在这里evaluate之后得到的是变量
>```
>
>在用v-for遍历的时候，也需要使用'  :key=".....id" ' 而非'key="...id"'