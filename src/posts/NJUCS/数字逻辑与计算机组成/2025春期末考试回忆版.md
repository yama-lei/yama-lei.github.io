---
title: DLCO-2025-Spring-Final
author: Yama
---

本文为南京大学计算机科学与技术专业 2025年春 数字逻辑与计算机组成往年卷，全文约2000字，阅读时间10min。

## 选择题

1.   下面哪些是加权码？ A 余三码 B NBCD码 C 格雷码 D 独热码
2.   其他貌似都是常规题，第一题嘛，**读到这里的你真的知道`余三码`是什么码?如果你在考试，你会选择什么？**
3.   判断下面哪个数最小？ 给了一些反码、补码、原码
4.   下面哪一个需要3个CMOS们才能表示？选A，二输入与门
5.   下面有关Booth算法的描述，错误的是？ 选择那个说 由“最后一位来决定每一次计算”的那个选项，这个题目说实话，已经在考试试卷上出现几次了。读者可以找一下以前的往年卷。什么你不知道哪里有往年卷？抱歉我也不提供

## 组合逻辑

组合逻辑考得是写真值表、逻辑表达式，并且用**布尔代数**化简，最后再转化为**二级与非表达式**

常规题

## 时序逻辑

时序逻辑给了一个情境：投币购物，可以投1元硬币和2元硬币，商品价格为3元，不设找零，多出的钱只能下一次使用。当钱>=3时，Y输出为1。

第一问给了4个状态：

| S0       | S1       | S2      | S3       |
| -------- | -------- | ------- | -------- |
| 初始状态 | 投了一元 | 投了2元 | 投了三元 |

这题的一个特殊点在于，有两个输入：A，B。分别代表投入的钱是1元或者2元。**不会出现AB同时为1的情况**

>   貌似作业题和课本上都没有涉及过2输入的时序逻辑设计，不过理解原理之后其实也大差不差

*第一问* 	写出相关的状态转移表

*第二问* 	先问了**哪些状态可以合并**，也就解决了考生的疑问“吃饱没事干，干嘛要给S3单独一个编码？”同时，给出了S0-S3的编码用Q1Q0表示，之后要求填入真值表，实际上真值表上面S3对应的内容已经填好了（全是无关项），和上面状态合并相对应；值得注意的是需要按照**合并之后的状态转移情况，填入真值表**

*第三问*	写出状态转移方程、生成函数、激励函数

*第四问*	连线题。书卷上给出了Logisim画出的部分图，考生需要将剩余部分补齐。由于试卷上已经很明显地告诉了考生，D0* 和 D1*都是三个与门用或门连接好了

![image-20250618140555700](https://yamapicgo.oss-cn-nanjing.aliyuncs.com/picgoImage/image-20250618140555700.png)

读到这里你可能会疑惑？为什么没有未用状态分析？ 确实没有。

*第五问*	画出D0、D1、Y随着CLK、A、B的变化的波形图

*第六问*	时序逻辑分析。记住Tclk>setup+clk2q+longest-delay即可

## 指令&CPU综合 

这个板块占比为**50分**，考试题型是：先给出一个指令体系结构，之后几个大题都是围绕这个指令体系结构给出不同的数据通路（单周期、多周期、流水线），结合不同的知识点来考察。

*第一部分*	指令体系结构

题干给出了一种RISC-V风格的指令体系结构，给出了8条指令的编码（不包括sub，为后续埋下伏笔）

这一部分貌似出了这些题目：

1.   请你写出add x7 x7 x6的机械码（16进制）（具体是什么我忘了）
2.   请问最多有多少个通用寄存器？ 显然32个，因为给出的指令体系结构中，寄存器的编码位数为5
3.   请问图中a b c d e 的值代表多少？其实就是考察每一个地方的位数

![image-20250618142040568](https://yamapicgo.oss-cn-nanjing.aliyuncs.com/picgoImage/image-20250618142040568.png)

***单周期***	这一部分给出了单周期的数据通路，并结合单周期的数据通路考察了一些问题：

问：如何修改数据通路以同时支持add和sub指令？

***多周期***	不记得单独考了什么了。好像就没有单独考察数据通路的内容，和老师上课时强调的一致。



***流水线***	出现了以下问题：如何使得其支持检测溢出并防止错误结果写入，如何修改数据通路使得其支持bne指令？

***汇编程序分析题***

这一部分是本张试卷的难点之一，综合考察了对于汇编指令的理解、CPU性能的比较和冒险分析

包括但不限于：

给了一段汇编代码（包含lw、sw、slti、add等等指令），需要判断出代码的执行情况，能够分析出这段代码在不同CPU上的执行情况。

汇编代码模拟版本（感谢starwink的提供）

```
描述：内存0x0-0x4存储的真值分别为-2，-1,0,1,2；执行一下汇编代码：
add x5 x0 x0			#1
lw x6 2(x5)				#2
loop: bne x5 x6 finish 	#3
	addi x5 x5 1		#4
	lw x6 0(x5)			#5
	slti x7 x6 1		#6
	sub x6 x6 x7		#7
	sw x6 0(x5)			#8
 	jal x0 loop			#9
finish
```



以下是回忆版试题：

1.   第一次执行到#7这条指令（一条sub指令）的时候，xx的值是多少。写出此时的OF、ZF、SF、CF信号。如何“有OF、ZF、SF、CF”如何表示无符号和有符号的小于。

2.   有哪些部分出现了数据冒险？使用转发能够解决哪一些？（8分还是10分，可以说占比相当大了）

3.   在程序结束的时候，内存0x0-0x4的值分别是什么，用10进制表示真值。

4.   分析这段汇编代码在前面设计的单周期和流水线CPU中执行的周期数。

     >   这个地方需要能够准确地判断出汇编代码的执行情况，这一部分许多题目都需要分析出这一点才能接着分析
     >
     >   并且，流水线中还需要考虑load-use冒险和分支预测，并且，分支预测采取的还是**一位动态预测**，最开始时预测为**跳转**，但是实际上不跳转，所以预测错误一次，最后离开周期的时候还会有一次预测错误；jal指令和bne指令的延迟损失片需要根据数据通路来判断；

5.   告诉你每一个指令在多周期数据通路中需要多少个周期，问你上面那个汇编程序需要执行多少个周期

6.   询问如何优化流水线数据通路，使得其能够减少汇编程序周期执行数

     >   已经采取了数据转发，只能优化的地方是延迟损失片；前面计算流水线的时候已经出现过延迟损失片了，因此我们只需要 将相关的更新PC的逻辑往前移，即可。

---

## 写在最后：

期末考试情况：

90分及以上 14人；80-89,18人；70-79,16人；60-69,16人；50-59,9人；40-49,4人；39及以下,2人；

**也就是说80分以上的比例高达约40%**



>   **试卷内容不保真，仅做为参考**
>
>   制作本回忆版试卷的初衷是为了让学弟学妹们有针对性地进行复习，能够少走一些弯路，用更少的时间学会更重要的内容。
>
>   回顾整张试卷，你会发现试卷结构井井有条：最开始的20分基础题，涵盖了本书中许多基础知识点，之后是组合逻辑和时序逻辑电路，为后续CPU的设计打下了基础；最后在情境中给出指令体系结构，并且针对性地设计了数据通路，还考察了在这个数据通路中、在 这个指令体系结构下，汇编代码的执行。
>
>   试卷难度看个人能力而定，建议复习侧重重点；结合老师最后画的重点进行针对性的复习；核心考点是最后两章+时序逻辑，理论上，这张试卷如果你完全不复习其他内容，而选择ALL in 这两章的话，可以取得不错的成绩。
>
>   写到这里，到了Yama的午睡时间了，~~一觉醒来全世界的DLCO水平下降一万倍~~，醒来之后还有物理复习☝️🤓
>

**转载请标注来源 **

*2025-6-18   author: [yama-lei](https://github.com/yama-lei)* 

