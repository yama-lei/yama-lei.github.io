---
title: 使用瑞莎开发板搭建服务器
---

之前心心念念想有一个服务器，今天终于狠下心来买了硬件：

和gemini聊了很久，把相关的知识学了一遍，最后在狗东上面买好了装备：

下面是Gemini的评价

---

好的，恭喜你！你的硬件配置看起来非常合理且具有性价比，完全能够满足你的需求。

## **你的硬件配置评价：**

1.  **Radxa ZERO 3W RK3566 (374元):**
    -   **评价：** 核心设备，RK3566 芯片性能足够处理你的服务器和魔镜任务，Wi-Fi 和蓝牙是 3W 版本的亮点。
    -   **建议：** 确保你买的是 4GB 或 8GB 内存的版本，如果能有 8GB，会更流畅地运行 Qwen3-0.6B 和多个 Docker 容器。
2.  **散热片 (12元):**
    -   **评价：** 必要的配件。RK3566 在高负载下会发热，散热片能有效防止 CPU 过热降频，保证性能稳定。
    -   **建议：** 安装时确保与芯片接触良好，可以用导热硅脂或导热垫。
3.  **240GB SSD 固态硬盘 (117元):**
    -   **评价：** 很好的选择。SSD 相比 microSD 卡有显著的性能和寿命优势，240GB 容量对于操作系统、Docker 镜像、Dify 数据和大部分家庭小规模存储来说非常充裕。性价比也很好。
    -   **建议：** 配合 USB 3.0 硬盘盒，可以发挥 SSD 的速度。
4.  **microSD 128GB (50元):**
    -   **评价：** 初始启动和备用存储的理想选择。128GB 容量非常大，即使作为备用系统盘也足够。
    -   **建议：** 确保是高质量的 A2 级别或更高速的卡，以获得更好的启动和基础操作体验。
5.  **拓展坞 (72元):**
    -   **评价：** 关键组件，性价比极高！集成了千兆网口、USB 3.0 扩展和 PD 供电，完美解决了 ZERO 3W 接口不足的问题，并简化了供电。
    -   **建议：** 确保你的电源适配器支持 PD 协议，并且功率足够（建议 45W 或 65W PD 适配器）。
6.  **2.5 英寸 Type-C 硬盘盒 (20元):**
    -   **评价：** 正确的选择，正好匹配你的 SATA SSD。Type-C 接口也方便连接拓展坞。
    -   **建议：** 确保它支持 USB 3.0 或更高标准，以避免成为 SSD 的性能瓶颈。

**总体评价：你的配置非常均衡且经济实用，能够很好地满足你的项目需求。**

------

## 部署服务器的详细指导：

这是一个循序渐进的过程，需要一定的 Linux 基础。

**阶段一：硬件连接与首次启动**

1.  **安装散热片：**
    -   将散热片牢固地安装在 Radxa ZERO 3W 的 RK3566 芯片上。如果散热片带背胶，撕下保护膜直接贴上。如果需要导热硅脂或导热垫，请正确涂抹/放置。
2.  **组装 SSD 硬盘盒：**
    -   将你的 2.5 英寸 SATA SSD 放入硬盘盒，并盖好。
3.  **连接硬件：**
    -   **SD 卡：** 将 128GB microSD 卡插入 Radxa ZERO 3W 的 microSD 卡槽。
    -   **SSD 硬盘盒：** 将组装好的 SSD 硬盘盒通过其 Type-C 数据线连接到 **拓展坞的 USB 3.0 Type-A 接口之一**（因为你的硬盘盒是 Type-C to USB-A 线，或它本身就是 Type-A 接口）。
    -   **拓展坞到 ZERO 3W：** 用一根 **USB Type-C to USB Type-C 数据线** 将拓展坞的输出 Type-C 口（通常是连接电脑的那个口）连接到 **Radxa ZERO 3W 的 USB 3.0 Type-C HOST 口**。
    -   **电源：** 将你的 **PD 兼容的 USB Type-C 电源适配器** 连接到**拓展坞上标有“PD”或“Power In”的 Type-C 接口**。
    -   **显示器：** 用 Micro HDMI 转 HDMI 线缆连接 Radxa ZERO 3W 和显示器。
    -   **键盘鼠标：** 将键盘和鼠标连接到拓展坞剩余的 USB Type-A 接口。
    -   **网线：** 将网线连接到拓展坞的 RJ45 网口。

**阶段二：系统烧录与启动**

1.  **下载操作系统镜像：**
    -   访问 Radxa 官方网站 (Radxa.com 或 Radxa Wiki) 或其社区，找到 Radxa ZERO 3W 对应的 **Debian 或 Ubuntu Server** 镜像。**推荐 Server 版本，因为它更轻量，适合服务器使用。** 确保下载的镜像是为 RK3566 芯片优化的。
    -   下载 `Etcher` (Balena Etcher) 或 `Rufus` 等镜像烧录工具到你的电脑。
2.  **烧录镜像到 microSD 卡：**
    -   将 microSD 卡插入电脑的读卡器。
    -   打开 Etcher 或 Rufus，选择你下载的系统镜像文件和 microSD 卡作为目标设备。
    -   开始烧录。等待烧录完成并验证。
3.  **首次启动与基础配置：**
    -   确保所有硬件已连接。
    -   接通拓展坞电源。Radxa ZERO 3W 应该会自动启动。
    -   显示器上应该会出现启动信息。
    -   **登录：** 第一次登录通常有默认用户名和密码（请查阅 Radxa 官方文档或镜像说明）。例如，常见的可能是 `radxa/radxa` 或 `debian/debian`。
    -   **修改密码：** 登录后第一件事就是修改默认密码，使用 `passwd` 命令。
    -   **更新系统：** 运行 `sudo apt update && sudo apt upgrade -y` 来更新系统到最新状态。

**阶段三：SSD 挂载与系统迁移（可选但推荐）**

1.  **识别 SSD：**

    -   登录系统后，使用 `lsblk` 命令查看你的 SSD 是否被识别。它应该会显示为 `/dev/sda` 或 `/dev/nvme0n1`（取决于你的 SSD 类型，但通常是 `/dev/sda`）。
    -   确认其容量与你的 240GB SSD 匹配。

2.  **格式化 SSD：**

    -   如果 SSD 是新的，需要分区和格式化。
    -   使用 `sudo fdisk /dev/sda` (替换为你的 SSD 设备名) 进行分区。建议创建一个主分区，占用全部空间。
    -   使用 `sudo mkfs.ext4 /dev/sda1` (替换为你的分区名) 格式化分区为 ext4 文件系统。

3.  **挂载 SSD：**

    -   创建一个挂载点：`sudo mkdir /mnt/ssd`

    -   手动挂载：`sudo mount /dev/sda1 /mnt/ssd`

    -   测试读写：在 `/mnt/ssd` 中创建一些文件，确保可以正常读写。

    -   设置开机自动挂载：

         编辑 

        ```
        /etc/fstab
        ```

         文件，添加一行来确保 SSD 在每次启动时自动挂载。

        -   首先获取 SSD 分区的 UUID：`sudo blkid /dev/sda1`
        -   编辑 fstab：`sudo nano /etc/fstab`
        -   添加类似以下一行（替换 UUID）： `UUID=你的SSD分区UUID /mnt/ssd ext4 defaults,nofail 0 0`
        -   保存并退出，然后运行 `sudo mount -a` 测试。

4.  **（高级）系统迁移到 SSD (可选但强烈推荐):**

    -   虽然 microSD 卡可以启动，但将大部分系统（特别是 /usr, /var 等）迁移到 SSD 上，可以显著提升系统性能和延长 microSD 卡寿命。
    -   这个过程比较复杂，通常涉及：
        -   将 microSD 卡上的分区内容复制到 SSD 上。
        -   修改启动配置（如 `boot/extlinux/extlinux.conf` 或 `grub.cfg`，具体取决于你的镜像），让系统在启动后从 SSD 根目录运行。
    -   这是一个比较高级的操作，如果你是 Linux 新手，可以先跳过，等熟悉后再尝试。暂时让 SSD 作为数据盘和 Docker 容器存储盘即可。

**阶段四：Docker 环境搭建**

**安装 Docker：**

-   按照 Docker 官方文档在 ARM 架构的 Linux 系统上安装 Docker Engine。

-   通常命令如下：

    Bash

    ```
    sudo apt-get update
    sudo apt-get install ca-certificates curl gnupg
    sudo install -m 0755 -d /etc/apt/keyrings
    curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
    sudo chmod a+r /etc/apt/keyrings/docker.gpg
    echo \
      "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \
      "$(. /etc/os-release && echo "$VERSION_CODENAME")" stable" | \
      sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
    sudo apt-get update
    sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
    ```

-   将你的用户添加到 docker 组：`sudo usermod -aG docker your_username` (然后重新登录或重启)

1.  **配置 Docker 存储路径 (重要！):**

    -   默认情况下，Docker 容器镜像和数据存储在 `/var/lib/docker`，这会在 microSD 卡上。

    -   为了将 Docker 数据存储到 SSD 上，你需要修改 Docker 配置。

    -   编辑或创建 

        ```
        /etc/docker/daemon.json
        ```

         文件：

        JSON

        ```
        {
          "data-root": "/mnt/ssd/docker-data"
        }
        ```

    -   保存文件后，重启 Docker 服务：`sudo systemctl restart docker`

    -   **注意：** 确保 `/mnt/ssd/docker-data` 目录存在且有写入权限。

**阶段五：部署 Dify 和 Qwen3-0.6B**

1.  **部署 Dify：**
    -   Dify 官方通常提供 Docker Compose 文件来简化部署。
    -   访问 Dify 的 GitHub 仓库或官方文档，找到最新的 Docker Compose 部署指南。
    -   将 `docker-compose.yml` 文件下载到你的 Radxa ZERO 3W 上，并根据 Dify 的文档进行配置（例如数据库连接、端口映射等）。
    -   在 `docker-compose.yml` 所在的目录下运行 `docker compose up -d` 来启动 Dify 的所有容器。
2.  **部署 Qwen3-0.6B (两种主要方式)：**
    -   **方式一：通过 Dify 直接集成 (推荐):** Dify 平台本身设计用于集成 LLM。如果 Dify 支持 Qwen3-0.6B 作为其内置或可配置的模型，那么你只需要在 Dify 的界面上配置好模型 API 或路径即可。
    -   方式二：单独部署 LLM 服务容器：
        -   你可以使用 `Ollama` 或 `LM Studio` (如果有 ARM Linux 版本) 等工具来部署 Qwen3-0.6B 模型为一个本地 API 服务。
        -   搜索 `Ollama docker arm64` 或 `Qwen3-0.6b docker` 等关键词，找到适配 ARM64 架构的 Docker 镜像。
        -   运行一个 Docker 容器来加载和运行 Qwen3-0.6B 模型，并将其 API 暴露出来。
        -   然后，在 Dify 中配置，让它通过这个本地 API 调用 Qwen3-0.6B 模型。
    -   **重要：** 0.6B 的模型对内存要求相对低，但如果你买的是 4GB 内存的 ZERO 3W，可能需要在运行 Qwen 模型时注意内存占用，避免系统卡顿。如果能用量化后的模型版本，会更节省内存。

**阶段六：家庭数据存储和同步**

1.  **选择服务：**
    -   **文件同步：** Syncthing (P2P 同步)、Nextcloud (私有云盘)
    -   **媒体服务器：** Jellyfin / Plex (流媒体)
    -   **下载工具：** Transmission / qBittorrent (BT/PT 下载)
    -   **其他：** Samba/NFS (文件共享，如果需要在局域网内直接访问文件)
2.  **部署为 Docker 容器：**
    -   大多数这些服务都有现成的 Docker 镜像（确保选择 `arm64v8` 或 `aarch64` 架构的镜像）。
    -   你可以为每个服务编写或下载 Docker Compose 文件，并配置它们的持久化存储目录到你的 SSD 上（例如 `/mnt/ssd/data/syncthing`、`/mnt/ssd/data/jellyfin` 等）。

**阶段七：远程访问与管理**

1.  **SSH 远程访问：**
    -   一旦系统联网，你可以通过 SSH (Secure Shell) 从你的电脑远程连接到 Radxa ZERO 3W。
    -   在 Windows 上可以使用 PuTTY 或 PowerShell/WSL，在 macOS/Linux 上直接使用终端的 `ssh` 命令。
    -   这让你无需每次都连接显示器和键盘鼠标。
2.  **端口转发与动态 DNS (如果需要外网访问)：**
    -   如果你希望从家里外面也能访问你的服务器，你需要：
        -   在你的路由器上设置**端口转发**，将外部请求转发到 Radxa ZERO 3W 的内部 IP 地址和端口。
        -   使用**动态 DNS (DDNS)** 服务，将你的动态公网 IP 地址映射到一个固定的域名，方便访问。
    -   **注意安全：** 暴露到外网需要格外小心，确保所有服务都配置了强密码，并考虑使用 VPN 或更安全的认证方式。

**部署过程中的注意事项：**

-   **耐心：** 首次接触单板计算机和 Linux 部署可能会遇到一些小问题，保持耐心，善用搜索引擎和社区资源。
-   **文档：** 仔细阅读 Radxa 官方文档、你所用 Linux 发行版的文档以及 Docker、Dify 等服务的官方文档。
-   **备份：** 在进行重要操作前（尤其是分区、格式化、Docker 配置修改等），最好备份重要数据。
-   **社区支持：** Radxa、Docker、Dify 都有活跃的社区，遇到问题可以在论坛或 GitHub 提问。

祝你部署顺利！



---

还有期末考试等着我，因此这些东西先告一段落吧！

(2025-6-7日)

----

