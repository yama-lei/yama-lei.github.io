<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.67" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://github.com/yama-lei/yama-lei.github.io/posts/python%E5%AD%A6%E4%B9%A0/sicp%E7%AC%94%E8%AE%B0.html"><meta property="og:site_name" content="Myblog"><meta property="og:title" content="sicp笔记"><meta property="og:description" content="sicp笔记 !!!考前注意： 注意不要破坏抽象：比如scheme list要用对应的constructor和selector不要用car，cons 注意在继承的时候，能调用super().method就尽量调用 注意是list of lists 还是list！ 降序排列是DESC，升序不用写 如果是print or repr 某一个由instance..."><meta property="og:type" content="article"><meta property="og:image" content="https://img2024.cnblogs.com/blog/3578676/202412/3578676-20241231183714559-1474398211.jpg"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-02-15T02:57:35.000Z"><meta property="article:published_time" content="2025-01-18T00:00:00.000Z"><meta property="article:modified_time" content="2025-02-15T02:57:35.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"sicp笔记","image":["https://img2024.cnblogs.com/blog/3578676/202412/3578676-20241231183714559-1474398211.jpg","https://img2024.cnblogs.com/blog/3578676/202501/3578676-20250103083236722-333088327.png","https://img2024.cnblogs.com/blog/3578676/202501/3578676-20250103085651349-898535439.png","https://img2024.cnblogs.com/blog/3578676/202501/3578676-20250103090205733-663837540.png","https://img2024.cnblogs.com/blog/3578676/202501/3578676-20250103094500138-224050086.png","https://img2024.cnblogs.com/blog/3578676/202501/3578676-20250103094635619-1657772481.png"],"datePublished":"2025-01-18T00:00:00.000Z","dateModified":"2025-02-15T02:57:35.000Z","author":[{"@type":"Person","name":"Yama-lei","url":"/underbuilding.html"}]}</script><link rel="icon" href="/assets/icon/yama.svg"><title>sicp笔记 | Myblog</title><meta name="description" content="sicp笔记 !!!考前注意： 注意不要破坏抽象：比如scheme list要用对应的constructor和selector不要用car，cons 注意在继承的时候，能调用super().method就尽量调用 注意是list of lists 还是list！ 降序排列是DESC，升序不用写 如果是print or repr 某一个由instance...">
    <link rel="preload" href="/assets/style-HKakJfzV.css" as="style"><link rel="stylesheet" href="/assets/style-HKakJfzV.css">
    <link rel="modulepreload" href="/assets/app-CTobDjGc.js"><link rel="modulepreload" href="/assets/sicp笔记.html-BlfOuKfO.js">
    <link rel="prefetch" href="/assets/index.html-CPFwtDI6.js" as="script"><link rel="prefetch" href="/assets/intro.html-b8oYHP2P.js" as="script"><link rel="prefetch" href="/assets/underbuilding.html-BHAMC2Ns.js" as="script"><link rel="prefetch" href="/assets/index.html-BnbbIIbD.js" as="script"><link rel="prefetch" href="/assets/disable.html-DIYwZ-v3.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-DoDrjTb1.js" as="script"><link rel="prefetch" href="/assets/layout.html-CXWs2hZD.js" as="script"><link rel="prefetch" href="/assets/markdown.html-B4MMjiIr.js" as="script"><link rel="prefetch" href="/assets/page.html-BZWUQrdl.js" as="script"><link rel="prefetch" href="/assets/index.html-BmjhzpPG.js" as="script"><link rel="prefetch" href="/assets/love.html-jYcn3EAn.js" as="script"><link rel="prefetch" href="/assets/index.html-BrpzlZkv.js" as="script"><link rel="prefetch" href="/assets/index.html-pOFKBBrM.js" as="script"><link rel="prefetch" href="/assets/git的使用.html-zAh36qIG.js" as="script"><link rel="prefetch" href="/assets/实用网站.html-D45riqhh.js" as="script"><link rel="prefetch" href="/assets/简单的命令行操作.html-CUUMWMsC.js" as="script"><link rel="prefetch" href="/assets/index.html-BqFZznLo.js" as="script"><link rel="prefetch" href="/assets/2025_3_13.html-BAJ9GbAN.js" as="script"><link rel="prefetch" href="/assets/Letters.html-By9RS0zy.js" as="script"><link rel="prefetch" href="/assets/NewYearEve.html-BlljLyf6.js" as="script"><link rel="prefetch" href="/assets/index.html-HtNJ7FKf.js" as="script"><link rel="prefetch" href="/assets/RedMountainZoo.html-Blt0nYnV.js" as="script"><link rel="prefetch" href="/assets/SocialPractice.html-DGLoRll5.js" as="script"><link rel="prefetch" href="/assets/jhyz.html-DT3vFFn2.js" as="script"><link rel="prefetch" href="/assets/index.html-BgMBuRdX.js" as="script"><link rel="prefetch" href="/assets/Zhihu1.html-82KGMfc6.js" as="script"><link rel="prefetch" href="/assets/Zhihu2.html-yNZ5Uw84.js" as="script"><link rel="prefetch" href="/assets/Zhihu3.html-cboIo3RR.js" as="script"><link rel="prefetch" href="/assets/beautifulSentence.html-B8Pr3hRg.js" as="script"><link rel="prefetch" href="/assets/konwledges.html-CskU8t9o.js" as="script"><link rel="prefetch" href="/assets/一位很优秀的老师说的话.html-BkItO_tk.js" as="script"><link rel="prefetch" href="/assets/司法案件整理.html-uaQ8J_ys.js" as="script"><link rel="prefetch" href="/assets/01背包.html-Cimodkng.js" as="script"><link rel="prefetch" href="/assets/class综合.html-BxKEKjV1.js" as="script"><link rel="prefetch" href="/assets/二分查找.html-ZUCd7Udt.js" as="script"><link rel="prefetch" href="/assets/搜索.html-CRPfjwjm.js" as="script"><link rel="prefetch" href="/assets/暴力枚举和递归.html-DTt1TypZ.js" as="script"><link rel="prefetch" href="/assets/qt入门tutorial-第一节.html-CJgnljR6.js" as="script"><link rel="prefetch" href="/assets/qt入门tutorial-第二节.html-CSJPmv3v.js" as="script"><link rel="prefetch" href="/assets/List.html-CaORKSV5.js" as="script"><link rel="prefetch" href="/assets/async function.html-CNGsLFgg.js" as="script"><link rel="prefetch" href="/assets/pinia.html-DxmOQrMc.js" as="script"><link rel="prefetch" href="/assets/vue3的响应式数据.html-B2FP_AD1.js" as="script"><link rel="prefetch" href="/assets/元素的访问.html-CzKi_jY6.js" as="script"><link rel="prefetch" href="/assets/图床配置.html-hZfsdyXo.js" as="script"><link rel="prefetch" href="/assets/布局方式.html-Ch-sje6p.js" as="script"><link rel="prefetch" href="/assets/插槽.html-C8S78rMR.js" as="script"><link rel="prefetch" href="/assets/组件的生命周期.html-CQd6LyWr.js" as="script"><link rel="prefetch" href="/assets/组件通信.html-CG9jrPsf.js" as="script"><link rel="prefetch" href="/assets/自定义事件与监视.html-BR9Q1RY_.js" as="script"><link rel="prefetch" href="/assets/路由.html-B_2SvStX.js" as="script"><link rel="prefetch" href="/assets/Anaconda的学习.html-Cg9YJEtM.js" as="script"><link rel="prefetch" href="/assets/Pytorch学习.html-YtoFi5YC.js" as="script"><link rel="prefetch" href="/assets/VQA视觉问答系统.html-U6ok1hom.js" as="script"><link rel="prefetch" href="/assets/使用阿里云服务器训练模型.html-Dys2Lshj.js" as="script"><link rel="prefetch" href="/assets/学长分享.html-WDJb1smA.js" as="script"><link rel="prefetch" href="/assets/神经网络的基本概念.html-o5U2-XbE.js" as="script"><link rel="prefetch" href="/assets/链接实验室的服务器.html-DfbPMhBe.js" as="script"><link rel="prefetch" href="/assets/Drama-English-Version.html-fQCp0x5W.js" as="script"><link rel="prefetch" href="/assets/周一戏剧.html-Dzm86nUd.js" as="script"><link rel="prefetch" href="/assets/英语周一.html-BzZQfv0q.js" as="script"><link rel="prefetch" href="/assets/英语周三.html-D2D2co3C.js" as="script"><link rel="prefetch" href="/assets/FPGA设计和硬件描述语言.html-Dt0PBoBv.js" as="script"><link rel="prefetch" href="/assets/chapter6运算方法和运算部件.html-p6WWjDgh.js" as="script"><link rel="prefetch" href="/assets/chapter7指令计算集.html-Bl0V4Qgg.js" as="script"><link rel="prefetch" href="/assets/chapter8CPU.html-rcl-7i5n.js" as="script"><link rel="prefetch" href="/assets/logisim实验.html-Cuimk3GR.js" as="script"><link rel="prefetch" href="/assets/专题：各种寄存器的相互转换.html-BIkLkXCA.js" as="script"><link rel="prefetch" href="/assets/二进制表示.html-7I5eG8g6.js" as="script"><link rel="prefetch" href="/assets/作业：第四章.html-CHxr-jGw.js" as="script"><link rel="prefetch" href="/assets/数字逻辑基础.html-Da0so1T_.js" as="script"><link rel="prefetch" href="/assets/时序逻辑电路.html-DDeo1ik6.js" as="script"><link rel="prefetch" href="/assets/组合逻辑电路.html-CFcRU0_d.js" as="script"><link rel="prefetch" href="/assets/ppt-midterm-例题.html-24sdRzBb.js" as="script"><link rel="prefetch" href="/assets/普通物理学.html-DkFa5GVk.js" as="script"><link rel="prefetch" href="/assets/FileOperation.html-S30QQ1_F.js" as="script"><link rel="prefetch" href="/assets/STL容器.html-BY0jHlRl.js" as="script"><link rel="prefetch" href="/assets/class.html-C7ynQVcc.js" as="script"><link rel="prefetch" href="/assets/stl算法.html-m82PMUmg.js" as="script"><link rel="prefetch" href="/assets/string.html-CofRIGGU.js" as="script"><link rel="prefetch" href="/assets/内存安全程序设计.html-CKBiZlqo.js" as="script"><link rel="prefetch" href="/assets/排序.html-B5TgXxsq.js" as="script"><link rel="prefetch" href="/assets/程序设计基础期末复习.html-CQS1NipS.js" as="script"><link rel="prefetch" href="/assets/课程安排.html-B6Gf1fsq.js" as="script"><link rel="prefetch" href="/assets/课程笔记.html-DC3wLDHd.js" as="script"><link rel="prefetch" href="/assets/组会汇报week1.html-DlQVubY4.js" as="script"><link rel="prefetch" href="/assets/组会汇报week2.html-DdVYl4XZ.js" as="script"><link rel="prefetch" href="/assets/组会汇报week3.html-CzCb0i3T.js" as="script"><link rel="prefetch" href="/assets/组会汇报week4.html-HLpan_km.js" as="script"><link rel="prefetch" href="/assets/组会汇报week5.html-CAchzCUS.js" as="script"><link rel="prefetch" href="/assets/组会汇报week6.html-DvC8nOzs.js" as="script"><link rel="prefetch" href="/assets/1.html-wyNQOBN2.js" as="script"><link rel="prefetch" href="/assets/404.html-BAyRTPER.js" as="script"><link rel="prefetch" href="/assets/index.html-CljltzeZ.js" as="script"><link rel="prefetch" href="/assets/index.html-Baj6QdJd.js" as="script"><link rel="prefetch" href="/assets/index.html-DhoVlcW7.js" as="script"><link rel="prefetch" href="/assets/index.html-Di1ZkDhF.js" as="script"><link rel="prefetch" href="/assets/index.html-BVWmUhXY.js" as="script"><link rel="prefetch" href="/assets/index.html-D7O5RgAD.js" as="script"><link rel="prefetch" href="/assets/index.html-_ziWxzeH.js" as="script"><link rel="prefetch" href="/assets/index.html-D6ZeXQOm.js" as="script"><link rel="prefetch" href="/assets/index.html-D_VBKABL.js" as="script"><link rel="prefetch" href="/assets/index.html-4I3Vgv2Y.js" as="script"><link rel="prefetch" href="/assets/index.html-DnTYw4ZO.js" as="script"><link rel="prefetch" href="/assets/index.html-DUIJYmLN.js" as="script"><link rel="prefetch" href="/assets/index.html-CveLLEAB.js" as="script"><link rel="prefetch" href="/assets/index.html-DCumr2Hv.js" as="script"><link rel="prefetch" href="/assets/index.html-8e4QYNmB.js" as="script"><link rel="prefetch" href="/assets/index.html-VlLQ13oI.js" as="script"><link rel="prefetch" href="/assets/index.html-CbV5qpZp.js" as="script"><link rel="prefetch" href="/assets/index.html-BIjWHS_P.js" as="script"><link rel="prefetch" href="/assets/index.html-gar_8rdC.js" as="script"><link rel="prefetch" href="/assets/index.html-CrUTdFww.js" as="script"><link rel="prefetch" href="/assets/auto-Q-Ce4MY6.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-B3O8JSaZ.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-DotuGrRK.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-BAQT6v9A.js" as="script"><link rel="prefetch" href="/assets/math.esm-Cgto3ffo.js" as="script"><link rel="prefetch" href="/assets/search.esm-BPaPUgSs.js" as="script"><link rel="prefetch" href="/assets/notes.esm-DugvsDbc.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-BPsgJ1Hi.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-CMg0yb1C.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-BzK7Sz7X.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/assets/icon/yamasun.svg" alt><!----><span class="vp-site-name hide-in-pad">Myblog</span></a><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="博客主页"><!--[--><i class="vp-icon fas fa-home" style=""></i><!--]-->博客主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/thinking/" aria-label="人生感悟"><!--[--><img class="vp-icon" src="/assets/icon/thinking.svg" alt aria-hidden no-view style=""><!--]-->人生感悟<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="博文"><!--[--><i class="vp-icon fas fa-pen-to-square" style=""></i>博文<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/posts/python%E5%AD%A6%E4%B9%A0/" aria-label="python"><!---->python<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/posts/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" aria-label="前端开发"><!---->前端开发<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/posts/%E7%A7%91%E7%A0%94%E5%90%AF%E8%92%99/" aria-label="科研启蒙"><!---->科研启蒙<!----></a></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle"><a class="route-link auto-link" href="/posts/NJUCS/" aria-label="NJUCS"><!---->NJUCS<!----></a></h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/NJUCS/%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" aria-label="高级程序设计"><!---->高级程序设计<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/NJUCS/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91%E4%B8%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90/" aria-label="数字逻辑与计算机组成"><!---->数字逻辑与计算机组成<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/posts/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" aria-label="前端开发"><!--[--><i class="vp-icon fas fa-pen-to-square" style=""></i><!--]-->前端开发<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/posts/NJUCS/" aria-label="NJUCS南大计算机笔记"><!--[--><img class="vp-icon" src="/assets/icon/nju.svg" alt aria-hidden no-view style=""><!--]-->NJUCS南大计算机笔记<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/posts/%E7%A7%91%E7%A0%94%E5%90%AF%E8%92%99/" aria-label="科研启蒙"><!--[--><img class="vp-icon" src="/assets/icon/nju.svg" alt aria-hidden no-view style=""><!--]-->科研启蒙<!----></a></div></nav><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/yama-lei/yama-lei.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/" aria-label="博客主页"><!--[--><i class="vp-icon fas fa-home" style=""></i><!--]-->博客主页<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><i class="vp-icon fas fa-book" style=""></i><span class="vp-sidebar-title">文章</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">C++开发</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/posts/git%E7%9A%84%E4%BD%BF%E7%94%A8.html" aria-label="github入门--the missing class for cs learner"><!---->github入门--the missing class for cs learner<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">NJUCS</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">OJ难题积累与学习</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Python学习</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/posts/python%E5%AD%A6%E4%B9%A0/List.html" aria-label="List"><!---->List<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/posts/python%E5%AD%A6%E4%B9%A0/sicp%E7%AC%94%E8%AE%B0.html" aria-label="sicp笔记"><!---->sicp笔记<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">前端开发</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/posts/%E5%AE%9E%E7%94%A8%E7%BD%91%E7%AB%99.html" aria-label="实用网站"><!---->实用网站<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">科研启蒙</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/posts/%E7%AE%80%E5%8D%95%E7%9A%84%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%93%8D%E4%BD%9C.html" aria-label="简单的命令行操作"><!---->简单的命令行操作<!----></a></li></ul></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/intro.html" aria-label="个人简介"><!--[--><img class="vp-icon" src="/assets/icon/intro.svg" alt aria-hidden no-view style=""><!--]-->个人简介<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/game/" aria-label="game"><!--[--><img class="vp-icon" src="/assets/icon/game.svg" alt aria-hidden no-view style=""><!--]-->game<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->sicp笔记</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="/underbuilding.html" target="_blank" rel="noopener noreferrer">Yama-lei</a></span><span property="author" content="Yama-lei"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025年1月18日</span><meta property="datePublished" content="2025-01-18T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 9 分钟</span><meta property="timeRequired" content="PT9M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><!--[--><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#考前注意">!!!考前注意：</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#我的精神状态belike">我的精神状态belike：</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-the-difference-between-quoted-and-unquoted-string">1.The difference between quoted and unquoted string</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-attribute-lookup">2.Attribute lookup:</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-super-method-super-is-a-method-that-allows-you-to-call-the-method-of-superclass">3.Super method: &#39;super&#39; is a method that allows you to call the method of superclass.</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_6-scheme">6.Scheme</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_8-define-macro-in-scheme">8.Define Macro in Scheme</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#the-ensence-of-marco-procedure-code-transformation">The ensence of marco procedure: Code Transformation</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_9-scheme-list">9. Scheme List</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_10-scheme-macro">10. Scheme Macro</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_11-scheme-stream">11. Scheme Stream</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_15-interpreter">15. Interpreter</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--]--><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="sicp笔记" tabindex="-1"><a class="header-anchor" href="#sicp笔记"><span>sicp笔记</span></a></h1><h2 id="考前注意" tabindex="-1"><a class="header-anchor" href="#考前注意"><span>!!!考前注意：</span></a></h2><ol><li>注意不要破坏抽象：比如scheme list要用对应的constructor和selector不要用car，cons</li><li>注意在继承的时候，能调用super().method就尽量调用</li><li>注意是list of lists 还是list！</li><li>降序排列是DESC，升序不用写</li><li>如果是print or repr 某一个由instance组成的list， 里面的每一个instance都会被repr作用；而不是str！！！！！！！！！</li><li>注意看题目要求要的是什么！不要只看doctest。</li></ol><h3 id="我的精神状态belike" tabindex="-1"><a class="header-anchor" href="#我的精神状态belike"><span>我的精神状态belike：</span></a></h3><figure><img src="https://img2024.cnblogs.com/blog/3578676/202412/3578676-20241231183714559-1474398211.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_1-the-difference-between-quoted-and-unquoted-string" tabindex="-1"><a class="header-anchor" href="#_1-the-difference-between-quoted-and-unquoted-string"><span>1.The difference between quoted and unquoted string</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;hello world&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hello world </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#unquoted</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;hello world&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">a    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#It is the same if you want to look up an attribute of an </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        #instance(or class) and the attribute is a string;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;hello world&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #quoted</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>And one more strange thing:</p><div class="language-py line-numbers-mode" data-highlighter="shiki" data-ext="py" data-title="py" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> A</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">x</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">      self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.x</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __repr__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.x</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __str__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.x</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">A</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;10&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  #注意这里不能是print(A(10))因为 str的返回值不能是非str的</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">A</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;10&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)       </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#inexplictly call __repr__</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">repr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">A</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;10&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#explictly call __repr__</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;10&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#经助教提醒后幡然醒悟：前面那个显示10并不意味着repr(A(&#39;10&#39;))为10，而是经过了Read-Eval-Print-Loop之后才显示为10。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-attribute-lookup" tabindex="-1"><a class="header-anchor" href="#_2-attribute-lookup"><span>2.Attribute lookup:</span></a></h2><div class="language-py line-numbers-mode" data-highlighter="shiki" data-ext="py" data-title="py" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Car</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      pass</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> electric_car</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Car</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> get_charged</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        pass</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">A</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">electric_car</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Car.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_charged</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(A) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#Error!</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#search the function &#39;get_charged&#39; from the class Car, but failed.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">electric_car.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_charged</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(A) </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#equals to A.get_chaeged()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-super-method-super-is-a-method-that-allows-you-to-call-the-method-of-superclass" tabindex="-1"><a class="header-anchor" href="#_3-super-method-super-is-a-method-that-allows-you-to-call-the-method-of-superclass"><span>3.Super method: &#39;super&#39; is a method that allows you to call the method of superclass.</span></a></h2><blockquote><p><strong>Method Binding</strong><br> When you call a method using super(), the method is bound to the current instance (i.e., self), not to the temporary proxy object. This is why the method has access to the instance’s attributes and can modify them. --from deepseek V3</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>class electric_car(Car):</span></span>
<span class="line"><span>    def __init__(self):</span></span>
<span class="line"><span>        super().__init__()</span></span>
<span class="line"><span>#you don&#39;t have to take &#39;self&#39; as a parameter, because it is bound already</span></span>
<span class="line"><span>    def get_charged(self):</span></span>
<span class="line"><span>        pass</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##4.Handle string format with for expression:</p><blockquote><p>hint: you are recommended to read the manual about string function like join, format ,zfill,and so on;</p></blockquote><div class="language-py line-numbers-mode" data-highlighter="shiki" data-ext="py" data-title="py" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#example 1</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> shift</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">x</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">ord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(ch)</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">ord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x)</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">26</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">ord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ch </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> message)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#shift all the letter back by x</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-py line-numbers-mode" data-highlighter="shiki" data-ext="py" data-title="py" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#example 2</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> time_format</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">year</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">month</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">format</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;yy.mm.dd&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> format</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">replace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;yy&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(year)).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">replace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;mm&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(month).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">zfill</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">replace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;dd&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(day).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">zfill</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#  original_str.replace(old_substr,new_str);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#  str.zfill(width) =&gt; fill zeros ahead of the str;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-py line-numbers-mode" data-highlighter="shiki" data-ext="py" data-title="py" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#example 3</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> fliiter_index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">x</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   #flitter out the letters whose indices are the multiple of x (excluding 0)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(str[index] </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> index</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> or</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> index</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">%</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> else</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> index </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> range</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">len</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##5. <strong>special method</strong><br> There are some special methods like &#39;<strong>radd</strong>&#39;,&#39;<strong>rsub</strong>&#39;, but when they are called?</p><blockquote><p>These methods are called to implement the binary arithmetic operations (+, -, *, @, /, //, %, divmod(), pow(), **, &lt;&lt;, &gt;&gt;, &amp;, ^, |) with reflected (swapped) operands. These functions are only called if the left operand does not support the corresponding operation 3 and the operands are of different types. 4 For instance, to evaluate the expression x - y, where y is an instance of a class that has an <strong>rsub</strong>() method, y.<strong>rsub</strong>(x) is called if x.<strong>sub</strong>(y) returns NotImplemented.<br><a href="">https://docs.python.org/3.9/reference/datamodel.html?highlight=radd#object.<strong>radd</strong></a></p></blockquote><div class="language-py line-numbers-mode" data-highlighter="shiki" data-ext="py" data-title="py" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> num1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">num</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.num</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">num</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __add__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">other</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> num1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.num</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">other.num)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __radd__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">other</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> num1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.num</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">other.num)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __str__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;the value is </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.num</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> num2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">num</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.num</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">num</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __add__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">other</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> num1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.num</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">other.num)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __radd__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">other</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> num1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.num</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">other.n)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">n1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">num1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">n2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">num2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(n1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">n2)  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># the value is 3</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(n2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">n1)  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># the value is 4</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># first: check if the __add__ method of the left operand is able to work</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># second: if them are the same type, then an error occurs (it&#39;s no use even if you change their position) otherwise, the __radd__ method of the right operand is called</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-scheme" tabindex="-1"><a class="header-anchor" href="#_6-scheme"><span>6.Scheme</span></a></h2><ul><li>Everything is considered <code>#t</code> (true) except <code>#f</code> (false).</li><li><code>or</code> evaluates its arguments from left to right and returns the first truthy value.<br> If all arguments evaluate to <code>#f</code>, it returns <code>#f</code>.</li><li><code>and</code> evaluates its arguments from left to right and returns the first falsy value.<br> If all arguments are truthy, it returns the last truthy value.</li><li>use <code>eq?</code> or <code>equal?</code> to compare symbol and number; <code>=</code> can only be used to compare number!</li><li><code>pair?</code>:return <code>#t</code> when operand is a pair (or list); In python we use<code> isinstance(lnk,Link)</code></li></ul><p>##7.Interpreter</p><ul><li>REPL:&#39;read-eval-print-loop&#39;</li><li>environment is often representated as a dictionary;<br> To check if the dict has key &#39;a&#39; use:<code>a in dict.keys()</code><br> To add a new key-value bound or change the value use: <code>dict[key]=value</code><br> To delete a key-value bound use: <code>del dict[k]</code></li></ul><h2 id="_8-define-macro-in-scheme" tabindex="-1"><a class="header-anchor" href="#_8-define-macro-in-scheme"><span>8.Define Macro in Scheme</span></a></h2><h3 id="the-ensence-of-marco-procedure-code-transformation" tabindex="-1"><a class="header-anchor" href="#the-ensence-of-marco-procedure-code-transformation"><span>The ensence of marco procedure: Code Transformation</span></a></h3><div class="language-scm line-numbers-mode" data-highlighter="shiki" data-ext="scm" data-title="scm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>(define-macro (f x) (+ x 2))</span></span>
<span class="line"><span>(f (+ 2 3))</span></span>
<span class="line"><span>(define-macro (g x) (list &#39;+ x 2))</span></span>
<span class="line"><span>(g (+ 2 3)）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>(f (+ 2 3))</code> will apply the macro function f with the value <code>&#39;(+ 2 3)</code> as <code>x</code>. It will try to <code>(+ &#39;(+ 2 3) 2)</code> of which the result is the new code that replaces the whole <code>(f (+ 2 3))</code> entirely. However + cannot add a list to a number so it makes no sense to create a macro like that.</p><blockquote><p>######Take the source code as-is(add a quotation before it so when it is changed and evaled it is represented as-is)</p></blockquote><p><code>(g (+ 2 3))</code> will apply the macro function g with the value <code>&#39;(+ 2 3)</code> as <code>x</code>. It will try to <code>(list &#39;+ &#39;(+ 2 3) 2))</code> of which the result is <code>(+ (+ 2 3) 2)</code>. This is then put verbatim at the code location of <code>(g (+ 2 3))</code> as if it has always been <code>(+ (+ 2 3) 2)</code> all along before the program starts executing. It works because <code>(+ (+ 2 3) 2)</code> is a valid expression.</p><h2 id="_9-scheme-list" tabindex="-1"><a class="header-anchor" href="#_9-scheme-list"><span>9. Scheme List</span></a></h2><p>Problem 1: Count Change III (100 pts)<br> Write a procedure make-change, which takes in positive integers total and biggest and outputs a list of lists, in which each inner list contains positive numbers no larger than biggest that sum to total.</p><blockquote><p>Note: Both outer list and inner lists should be descending ordered.<br> Hint: You may find Scheme built-in procedure append useful.</p></blockquote><div class="language-scm line-numbers-mode" data-highlighter="shiki" data-ext="scm" data-title="scm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>(define (make-change total biggest)</span></span>
<span class="line"><span>  &#39;YOUR-CODE-HERE</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>;;; Tests</span></span>
<span class="line"><span>; scm&gt; (make-change 2 2)</span></span>
<span class="line"><span>; ((2) (1 1))</span></span>
<span class="line"><span>; scm&gt; (make-change 3 3)</span></span>
<span class="line"><span>; ((3) (2 1) (1 1 1))</span></span>
<span class="line"><span>; scm&gt; (make-change 4 3)</span></span>
<span class="line"><span>; ((3 1) (2 2) (2 1 1) (1 1 1 1))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Solution</strong>:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>(define (make-change total biggest)</span></span>
<span class="line"><span>  (cond ((= total 0) &#39;(()) )       ;A right path </span></span>
<span class="line"><span>    (or (&lt; total) (= biggest 0) &#39;() ) ;Invalid path, should be ingnored</span></span>
<span class="line"><span>    (else</span></span>
<span class="line"><span>        (let ((with (map (lambda (lst) (cons biggest lst)) (make-change (- total biggest) biggest) )  ) </span></span>
<span class="line"><span>         (without (make-change total (- biggest 1))))</span></span>
<span class="line"><span>        (append with without)</span></span>
<span class="line"><span>        )</span></span>
<span class="line"><span>  )</span></span>
<span class="line"><span>)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_10-scheme-macro" tabindex="-1"><a class="header-anchor" href="#_10-scheme-macro"><span>10. Scheme Macro</span></a></h2><blockquote><p>由于尚未完全掌握 暂时不完全展示</p></blockquote><hr><h2 id="_11-scheme-stream" tabindex="-1"><a class="header-anchor" href="#_11-scheme-stream"><span>11. Scheme Stream</span></a></h2><ul><li><strong>A Speacial data type</strong></li></ul><div class="language-scm line-numbers-mode" data-highlighter="shiki" data-ext="scm" data-title="scm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>;the following are the constructor and selector of Stream:</span></span>
<span class="line"><span>(define (cons-stream first rest)</span></span>
<span class="line"><span>    (cons first (delay rest))</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>(define (cdr-stream s)</span></span>
<span class="line"><span>(force (cdr s))</span></span>
<span class="line"><span>)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>More demo</summary><div class="language-scm line-numbers-mode" data-highlighter="shiki" data-ext="scm" data-title="scm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>(define (constant-stream i) (cons-stream i (constant-stream i)))</span></span>
<span class="line"><span></span></span>
<span class="line"><span>(define (slice s start end)</span></span>
<span class="line"><span>    (if  (and (&lt; start end) (not (null? s)) )</span></span>
<span class="line"><span>         (if (and (= 0 start))</span></span>
<span class="line"><span>            (cons (car s) (slice (cdr-stream s) start (- end 1)) )</span></span>
<span class="line"><span>            (slice (cdr-stream s) (- start 1) (- end 1))</span></span>
<span class="line"><span>            )        </span></span>
<span class="line"><span>        nil</span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>(define (add-stream s1 s2) </span></span>
<span class="line"><span>    (cond </span></span>
<span class="line"><span>        ((null? s1) s2)</span></span>
<span class="line"><span>        ((null? s2) s1)</span></span>
<span class="line"><span>        (else (cons-stream (+ (car s1) (car s2)) (add-stream  (cdr-stream s1) (cdr-stream s2) )) )</span></span>
<span class="line"><span>     )</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>(define (merge-stream s1 s2)</span></span>
<span class="line"><span>    (cond </span></span>
<span class="line"><span>         ((null? s1) s2)</span></span>
<span class="line"><span>         ((null? s2) s1)</span></span>
<span class="line"><span>         (else </span></span>
<span class="line"><span>            (if (&gt; (car s1) (car s2))</span></span>
<span class="line"><span>                (cons-stream (car s2) (merge-stream (cdr-stream s2) s1))</span></span>
<span class="line"><span>                (cons-stream (car s1) (merge-stream (cdr-stream s1) s2))</span></span>
<span class="line"><span>            )   </span></span>
<span class="line"><span>         )</span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>(define (map-stream fn stream )</span></span>
<span class="line"><span>    (if (null? stream)</span></span>
<span class="line"><span>        nil</span></span>
<span class="line"><span>        (cons-stream (fn (car stream)) (map-stream fn (cdr-stream stream)))</span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>(define (filter-stream fn stream)</span></span>
<span class="line"><span>    (if (null? stream) nil</span></span>
<span class="line"><span>        (if (fn (car stream))</span></span>
<span class="line"><span>            (cons-stream (car stream) (filter-stream fn (cdr-stream stream)))</span></span>
<span class="line"><span>            (filter-stream fn (cdr-stream stream))</span></span>
<span class="line"><span>        )    </span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>(define (nats start) (cons-stream start (nats (+ start 1))))</span></span>
<span class="line"><span>(define natuals (nats 0))</span></span>
<span class="line"><span>(define ones (constant-stream 1))</span></span>
<span class="line"><span>(define s1 (cons-stream 1 (cons-stream 2 (cons-stream 3 (cons-stream 4 nil)))))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li>What &#39;s wrong with the code?</li></ul><div class="language-scm line-numbers-mode" data-highlighter="shiki" data-ext="scm" data-title="scm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>(define (filter-stream f s)</span></span>
<span class="line"><span>  (if (null? s) nil</span></span>
<span class="line"><span>      (let ((rest (filter-stream f (cdr-stream s))))</span></span>
<span class="line"><span>        (if (f (car s))</span></span>
<span class="line"><span>            (cons-stream (car s) rest)</span></span>
<span class="line"><span>            rest))))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>Tips</strong>: To get <code>rest</code> you have to get the result of the recursive call <code>(filter-stream f (cdr-stream s)))</code>, so it is not a lazy evaluation.</p></blockquote><ul><li><p>The most beautiful part of Stream lies in its power of creation: you can design many streams by some simple streams<br> Take <code>factorial</code> as an example:<br> We konw the factorials of naturals are 1 1 2 6 24 120...(start by 0!)<br> Given a stream of nuturals :1 2 3 4 5 ...<br> And we may found that if we combine the two streams by multiple their corresponding element, we may get a new stream :1 2 6 24 120 720.... (1 * 1=1, 1 * 2=2, 2 * 3=6...)<br> And apperently, it is just part of the factorial stream,<br> so the factorail stream can be defined recursively:</p><ul><li>the first element is 1</li><li>the rest are the <code>combination</code> of stream <code>naturals</code> and the stream <code>factorials</code></li></ul></li></ul><blockquote><p>It&#39;s Beautiful! Right?</p></blockquote><p>更一般地：</p><div class="language-scm line-numbers-mode" data-highlighter="shiki" data-ext="scm" data-title="scm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>  （define sum-stream </span></span>
<span class="line"><span>      (cons-stream (car an-stream)  </span></span>
<span class="line"><span>          (add-stream sum-stream (cdr-stream an-stream)</span></span>
<span class="line"><span>      )</span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span>;即,Sn+1=Sn+an+1;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>More demos</strong>:</li></ul><p>#Problem 4: Non Decreasing (100 pts)<br> Define a function nondecrease, which takes in a scheme stream of numbers and outputs a stream of lists, which overall has the same numbers in the same order, but grouped into lists that are non-decreasing.</p><p>For example, if the input is a stream containing elements</p><p>(1 2 3 4 1 2 3 4 1 1 1 2 1 1 0 4 3 2 1)<br> the output should contain elements</p><p>((1 2 3 4) (1 2 3 4) (1 1 1 2) (1 1) (0 4) (3) (2) (1))<br> Your solution may handle infinite streams correctly, which means if an infinite streams is always non-decreasing after the nth element, and from the 0th to the n - 1th element can group to m non-decreasing sublists, your solution can output the first m sublists correctly.</p><p>(define (nondecrease s)<br> &#39;YOUR-CODE-HERE<br> )</p><p>;;; Tests<br> ; scm&gt; (define s (list-to-stream &#39;(1 2 3 4 1 2 3 4 1 1 1 2 1 1 0 4 3 2 1))) ; a helper function to make stream from list<br> ; s<br> ; scm&gt; (slice (nondecrease s) 0 8)<br> ; ((1 2 3 4) (1 2 3 4) (1 1 1 2) (1 1) (0 4) (3) (2) (1))</p><details><summary>solution1</summary><div class="language-scm line-numbers-mode" data-highlighter="shiki" data-ext="scm" data-title="scm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>(define (non-decreasing stream)</span></span>
<span class="line"><span>    (cond ( (null? stream) (cons-stream nil ni) )</span></span>
<span class="line"><span>        ( (null? (cdr-stream stream)) (cons-stream (cons (car stream) nil) nil))</span></span>
<span class="line"><span>        (else </span></span>
<span class="line"><span>            (let ((next (non-decreasing (cdr-stream stream))))</span></span>
<span class="line"><span>                (if (&lt;= (car stream) (car (car next)))</span></span>
<span class="line"><span>                    (cons-stream (cons (car stream) (car next))  (cdr-stream next))</span></span>
<span class="line"><span>                    (cons-stream (cons (car stream) nil) next)</span></span>
<span class="line"><span>                    )     </span></span>
<span class="line"><span>            )</span></span>
<span class="line"><span>        )</span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><blockquote><p>The main idea of solution one is take out the first element(<code>car stream</code>) and &#39;add&#39; it to the result without it(recursively,<code>(non-decreasing (cdr-stream s)</code>)</p></blockquote><details><summary>solution2 from chatgpt</summary><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>(define (non-decreasing stream) </span></span>
<span class="line"><span>    (define (take-group stream)</span></span>
<span class="line"><span>        (cond ((null? stream) nil)</span></span>
<span class="line"><span>               ((null? (cdr-stream stream)) (cons (car stream) nil))</span></span>
<span class="line"><span>            (else (if (&lt;= (car stream) (car (cdr-stream stream) ) ) </span></span>
<span class="line"><span>                         (cons (car stream) (take-group (cdr-stream stream)))</span></span>
<span class="line"><span>                         (cons (car stream)  nil)</span></span>
<span class="line"><span>                    ))</span></span>
<span class="line"><span>        )    </span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span>    (define (next-stream stream)</span></span>
<span class="line"><span>            (cond ((null? stream) nil)</span></span>
<span class="line"><span>                  ((null? (cdr-stream stream)) stream )</span></span>
<span class="line"><span>                  ((&lt; (car stream) (car (cdr-stream stream))) (next-stream (cdr-stream stream)) )</span></span>
<span class="line"><span>                  (else (cdr-stream stream))</span></span>
<span class="line"><span>                  )</span></span>
<span class="line"><span>        )</span></span>
<span class="line"><span>    (if (null? (take-group stream)) nil (cons-stream (take-group stream) (non-decreasing (next-stream stream))))</span></span>
<span class="line"><span>)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><blockquote><p>Main idea: <code>take-group</code> from the current stream and recursively take the group from the <code>next-stream</code></p></blockquote><p>##12. SQL</p><ul><li><p>Create a tabel:</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    SELECT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;content&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> coulmn_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UNION</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .....</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Select:</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> column </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> table_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> column_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> condition </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> column LIMINT maximun_num</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在ORDER BY col 后面可以加上 ASC或DESC，否则默认ASC；</p></li><li><p>Joining tabels:</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> col </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> table1,table2 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> condition.....</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Aggregation</p><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">1.GROUP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> BY </span></span>
<span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">2.COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):计算所有列数，</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">DISTINCT </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">col</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)计算不同col那一列地不同值的个数</span></span>
<span class="line"><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">3.MAX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(col),</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">MIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">col</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>Some common Aggregation function:</strong><br><img src="https://img2024.cnblogs.com/blog/3578676/202501/3578676-20250103083236722-333088327.png" alt="" loading="lazy"></p></li></ul><p>##14. Others</p><ul><li><p>Scheme Diagram:</p></li><li><p>Draw Lists:</p><ul><li>自行体会：<br><img src="https://img2024.cnblogs.com/blog/3578676/202501/3578676-20250103085651349-898535439.png" alt="" loading="lazy"></li></ul></li><li><p>Environment, Frame:<br> Notice： Whenever you call a function, you create a new frame, whose parent is the frame where the function is defined. In the following example, the function <code>make-adder</code> is defined in the global frame, when call the function by <code>(make-adder 3)</code>, a new frame <code>f1</code> is created and returnd a lambda function (defined in <code>f1</code>). And later when you call the function <code>add-three</code> which is bound to the lambda function, new frames are created, more specifically <code>f2</code> and <code>f3</code>.The parent frame of <code>f2</code> and <code>f3</code> is <code>f1</code>, because the lambda is define in <code>f1</code>;</p></li></ul><blockquote><p>But <code>add-there</code> is defined in Global Frame, why is their parent frame not the Global Frame? When evaluating the call expression, the operator is evaluated first, which results in a lambda procedure. Therefore the parent frame of the function call is the frame in which the lambda procedure was defined.</p></blockquote><figure><img src="https://img2024.cnblogs.com/blog/3578676/202501/3578676-20250103090205733-663837540.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>Some Scheme procedure/SQL function often ignored: <ul><li><code>modulo</code> 取模</li><li><code>quotident</code> 整除</li><li><code>equal?</code> or <code>eq?</code> 用于比较数字和非数字是否相等(<code>=</code>只用作数字之间的比较)</li><li><code>Round</code> (SQL aggregation Function) 四舍五入</li><li><code>AVG</code> (SQL aggregation Function) 对group取平均值，注意，如果没有用GROUP BY 但是用了aggregation function，则认为是对整个的table当成是一个group；</li></ul></li></ul><h2 id="_15-interpreter" tabindex="-1"><a class="header-anchor" href="#_15-interpreter"><span>15. Interpreter</span></a></h2><ul><li>Counting：考试会考！ <ul><li>这个是built-in procedure<br><img src="https://img2024.cnblogs.com/blog/3578676/202501/3578676-20250103094500138-224050086.png" alt="" loading="lazy"></li><li>这个是 user-defined procudure(<code>LambdaProcedure</code>)<br><img src="https://img2024.cnblogs.com/blog/3578676/202501/3578676-20250103094635619-1657772481.png" alt="" loading="lazy"></li></ul></li></ul><blockquote><p>Pay attention to the eval process: you have to eval the exprssion in the body of the function.</p></blockquote><ul><li>WWSP</li></ul><div class="language-scm line-numbers-mode" data-highlighter="shiki" data-ext="scm" data-title="scm" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&gt;&gt;&gt;scm (cons &#39;(car) &#39;(&#39;(1 2)))</span></span>
<span class="line"><span> (car (quote (1 2)))</span></span>
<span class="line"><span>;解释：&#39;(car) -&gt;Pair(car) &#39;(&#39;(1 2))-&gt;Pair(Pair(quote, Pair(1, Pair(2,nil))))</span></span>
<span class="line"><span>当调用cons的时候，需要先eval operand，分别得到car和Pair(quote,Pair(1, Pair(2, nil)))</span></span>
<span class="line"><span>再用cons创建一个pair-&gt; Pair(car, Pair(quote, Pair(1, Pair(2,nil))))</span></span>
<span class="line"><span>&gt;&gt;(eval (cons &#39;(car) &#39;(&#39;(1 2))) )</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>;解释，在上述的基础上再调用eval，发现Pair第一个是procedure（car）,因此按function call来，分别evaluate opertor 和operand，期中operand得到(1 2)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/yama-lei/yama-lei.github.io/edit/main/src/posts/python学习/sicp笔记.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/2/15 02:57:35</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 1908777046@qq.com">yama-lei</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/posts/python%E5%AD%A6%E4%B9%A0/List.html" aria-label="List"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->List</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><!----><div class="vp-copyright">Copyright © 2025 Yama-lei </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CTobDjGc.js" defer></script>
  </body>
</html>
